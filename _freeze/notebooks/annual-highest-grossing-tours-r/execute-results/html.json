{
  "hash": "44eaab5c54b30b52728a35fe71a09448",
  "result": {
    "markdown": "<details><summary>See R code</summary>\n\n\n\n\n\n::: {.callout-tip}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nannual_hi_gross_tours <-\n  ind_html[[9]] |>\n  clean_names()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nannual_hi_gross_tours_clean <-\n  annual_hi_gross_tours |>\n  dplyr::mutate(across(\n    c(adjusted_gross_in_2022_dollar,\n      actual_gross),\n    ~ as.numeric(str_replace_all(.x, \"[$,]\", \"\"))\n  ),\n  year = lubridate::ymd(year, truncated = 2L),\n  decade = as.factor(floor_date(year, years(10)))) |> \n  add_row(artist = \"Taylor Swift\",\n          tour_title = \"The Eras Tour (Expected)\",\n          year = lubridate::date(\"2023-01-01\"),\n          shows = 146,\n          adjusted_gross_in_2022_dollar = 1400000000,\n          decade = \"2020-01-01\",\n          .before = 1)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nannual_hi_gross_tours_clean |>\n  ggplot(aes(\n    x = year,\n    y = adjusted_gross_in_2022_dollar,\n    fill = decade\n  )) +\n  geom_bar(stat = \"identity\") +\n  geom_smooth(aes(group = decade)) +\n  scale_size(range = c(0, 4)) +\n  theme_minimal() +\n  theme(\n    text = element_text(size = 9,\n                        family = \"lato\"),\n    title = element_text(size = 16,\n                         family = \"abril-fatface\"),\n    panel.background = element_blank(),\n    axis.ticks.x = element_blank(),\n    axis.text.x = element_blank(),\n    axis.title.x = element_blank(),\n    axis.title.y = element_blank()) +\n  geom_text(aes(label = tour_title),\n            family = \"lato\",\n            vjust = -2.5,\n            angle = 45,\n            size = 2) +\n  labs(title = \"Annual highest-grossing tours\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric,\n: span too small.  fewer data values than degrees of freedom.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric,\n: at 6205.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric,\n: radius 13.359\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric,\n: all data on boundary of neighborhood. make span bigger\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric,\n: pseudoinverse used at 6205.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric,\n: neighborhood radius 3.655\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric,\n: reciprocal condition number 1\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric,\n: at 6943.7\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric,\n: radius 13.359\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric,\n: all data on boundary of neighborhood. make span bigger\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric,\n: There are other near singularities as well. 13.359\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric,\n: zero-width neighborhood. make span bigger\n\nWarning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric,\n: zero-width neighborhood. make span bigger\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Computation failed in `stat_smooth()`\nCaused by error in `predLoess()`:\n! NA/NaN/Inf in foreign function call (arg 5)\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nannual_hi_gross_tours_clean |>\n  ggplot(aes(\n    x = shows,\n    y = adjusted_gross_in_2022_dollar,\n    fill = decade\n  )) +\n  geom_point(alpha = 0.5,\n             shape = 21,\n             color = \"black\") +\n  scale_size(range = c(0, 4)) +\n  scale_fill_viridis(discrete = TRUE,\n                     guide = FALSE,\n                     option = \"A\") +\n  theme_minimal() +\n  theme(\n    legend.position = \"none\",\n    text = element_text(size = 9,\n                        family = \"lato\"),\n    title = element_text(size = 16,\n                         family = \"abril-fatface\"),\n    panel.background = element_blank(),\n    axis.ticks.x = element_blank(),\n    axis.title.x = element_blank(),\n    axis.title.y = element_blank()\n  ) +\n  labs(title = \"Number of shows vs. income\")\n```\n:::\n\n\n:::\n</details>",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}