{
  "hash": "82edb17004e13123a80e0ff9c2739adb",
  "result": {
    "markdown": "::: {.cell}\n\n```{.r .cell-code}\n# To clean data\nlibrary(tidyverse)\n\n# To geocode data\nlibrary(tidygeocoder)\n\n# To make the map\nlibrary(leaflet)\nlibrary(htmltools)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nimpact <-\n  read_csv(here::here(\"data\", \"taylor-economic-impact.csv\"))\n\nimpact_geo <-\n  impact |> \n  geocode(location,\n          method = \"osm\",\n          lat = latitude,\n          long = longitude)\n\ntaylorIcon <- makeIcon(\n  iconUrl = here::here(\"images\", \"face.png\"),\n  iconWidth = 64, iconHeight = 64,\n  iconAnchorX = 22, iconAnchorY = 94,\n  shadowUrl = \"http://leafletjs.com/examples/custom-icons/leaf-shadow.png\",\n  shadowWidth = 50, shadowHeight = 64,\n  shadowAnchorX = 4, shadowAnchorY = 62\n)\n\nlabelText = paste0(\n  \"<b>\",\n  impact_geo$location,\n  \"</b>\",\n  \"<br/>\",\n  \"<br/>\",\n  impact_geo$news,\n  \"<br>\",\n  \"<br>\",\n  '<a href=\"',\n  impact_geo$`...3`,\n  '\">Source</a>'\n) |> \n  lapply(htmltools::HTML)\n\nleaflet(\n  data = impact_geo,\n  options = leafletOptions(\n    zoomControl = FALSE,\n    scrollWheelZoom = FALSE,\n    maxZoom = 12\n  )\n) |>\n  addProviderTiles(\"Esri.WorldGrayCanvas\",\n                   options = tileOptions(maxZoom = 12)) |>\n  setMaxBounds(\n    lng1 = -90,\n    lat1 = -180,\n    lng2 = 90,\n    lat2 = 180\n  ) |>\n  addMarkers(\n    ~ longitude,\n    ~ latitude,\n    label = ~ labelText,\n    labelOptions = labelOptions(maxWidth = 50),\n    icon = taylorIcon\n  )\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}